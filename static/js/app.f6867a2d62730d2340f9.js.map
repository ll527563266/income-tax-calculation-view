{"version":3,"sources":["webpack:///./src/App.vue?86dc","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/components/Index.vue","webpack:///./src/components/Index.vue?2e84","webpack:///./src/components/Index.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","Index","data","form","grossSalary","insurancesPrice","specialDeduction","threshold","dataList","rules","required","message","trigger","type","methods","build","_this","$refs","validate","valid","i","perform","onSubmit","_this2","length","$message","freeAmount","difference","taxAmount","tax","calculationTax","push","index","afterTax","totalDifference","getValueTotal","totalTaxAmount","currentTax","num","key","arguments","undefined","total","forEach","resetFormData","param","getSummaries","columns","sums","column","values","map","item","Number","property","every","value","isNaN","reduce","prev","curr","toFixed","components_Index","_vm","gutter","span","ref","model","label-width","label","prop","maxlength","callback","$$v","$set","_n","expression","slot","_v","disabled","on","click","staticStyle","width","border","summary-method","show-summary","scopedSlots","_u","fn","scope","_s","row","src_components_Index","Index_normalizeComponent","Vue","use","Router","router","base","routes","path","component","config","productionTip","ElementUI","el","components","App","template"],"mappings":"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","file":"static/js/app.f6867a2d62730d2340f9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-64885e9d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-64885e9d\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-64885e9d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  margin-top: 10px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\r\n  <el-row :gutter=\"20\">\r\n    <el-col :span=\"8\">\r\n      <el-form ref=\"form\" :rules=\"rules\" :model=\"form\" label-width=\"100px\">\r\n        <el-form-item label=\"税前工资\" prop=\"grossSalary\">\r\n          <el-input v-model.number=\"form.grossSalary\" maxlength=\"12\">\r\n            <template slot=\"append\">元</template>\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"五险一金\" prop=\"insurancesPrice\">\r\n          <el-input v-model.number=\"form.insurancesPrice\" maxlength=\"10\">\r\n            <template slot=\"append\">元</template>\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"专项扣除\" prop=\"specialDeduction\">\r\n          <el-input v-model.number=\"form.specialDeduction\" maxlength=\"10\">\r\n            <template slot=\"append\">元</template>\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"起征点\">\r\n          <el-input v-model.number=\"form.threshold\" disabled>\r\n            <template slot=\"append\">元</template>\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"build\">一键生成</el-button>\r\n          <el-button type=\"primary\" @click=\"onSubmit\">立即创建</el-button>\r\n          <el-button @click=\"resetFormData\">重置</el-button>\r\n        </el-form-item>\r\n    </el-form>\r\n    </el-col>\r\n    <el-col :span=\"16\">\r\n      <el-table :data=\"form.dataList\" border :summary-method=\"getSummaries\" show-summary style=\"width: 100%\">\r\n      <el-table-column  prop=\"index\" label=\"月份\"> </el-table-column>\r\n      <el-table-column label=\"税前工资\" prop=\"grossSalary\">\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.grossSalary.toFixed(2) }}元\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"五险一金\" prop=\"insurancesPrice\">\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.insurancesPrice.toFixed(2) }}元\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"专项扣除\" prop=\"specialDeduction\">\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.specialDeduction.toFixed(2) }}元\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"最终个税\" prop=\"tax\">\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.tax.toFixed(2) }}元\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"税后工资\" prop=\"afterTax\">\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.afterTax.toFixed(2) }}元\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    </el-col>\r\n  </el-row>\r\n</template>\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      form: {\r\n        grossSalary: 2000, // 税前工资\r\n        insurancesPrice: 0, // 五险一金\r\n        specialDeduction: 0, // 专项扣除\r\n        threshold: 5000, // 起征点\r\n        // fixed: true,\r\n        dataList: []\r\n      },\r\n      rules: {\r\n        grossSalary: [\r\n          { required: true, message: '必填项', trigger: 'change' },\r\n          { type: 'number', message: '必须为数字值', trigger: 'change' }\r\n        ],\r\n        insurancesPrice: [\r\n          { required: true, message: '必填项', trigger: 'change' },\r\n          { type: 'number', message: '必须为数字值', trigger: 'change' }\r\n        ],\r\n        specialDeduction: [\r\n          { required: true, message: '必填项', trigger: 'change' },\r\n          { type: 'number', message: '必须为数字值', trigger: 'change' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 一键生成\r\n    build () {\r\n      this.$refs['form'].validate((valid) => {\r\n        if (valid) {\r\n          this.form.dataList = []\r\n          for (let i = 1; i <= 12; i++) {\r\n            this.perform()\r\n          }\r\n        }\r\n      })\r\n    },\r\n    // 单月记录创建\r\n    onSubmit () {\r\n      this.$refs['form'].validate((valid) => {\r\n        if (valid) {\r\n          if (this.form.dataList.length === 12) {\r\n            this.$message({\r\n              message: '不能超过12条记录',\r\n              type: 'warning'\r\n            })\r\n            return\r\n          }\r\n          this.perform()\r\n        }\r\n      })\r\n    },\r\n    // 执行计算结果\r\n    perform () {\r\n      const length = this.form.dataList.length\r\n      if (length === 0) {\r\n        const freeAmount = this.form.insurancesPrice + this.form.specialDeduction + this.form.threshold// 免额(五险+专项+起征点)\r\n        const difference = this.form.grossSalary - freeAmount// 差额\r\n        const taxAmount = difference > 0 ? difference : 0// 缴纳金额\r\n        const tax = difference > 0 ? this.calculationTax(taxAmount) : 0// 个税\r\n        this.form.dataList.push({\r\n          index: '1月份',\r\n          grossSalary: this.form.grossSalary, // 税前\r\n          insurancesPrice: this.form.insurancesPrice, // 五险一金\r\n          specialDeduction: this.form.specialDeduction, // 专项扣除\r\n          threshold: this.form.threshold, // 起征点\r\n          taxAmount: taxAmount, // 缴纳金额\r\n          tax: tax > 0 ? tax : 0, // 个税\r\n          afterTax: this.form.grossSalary - this.form.insurancesPrice - tax// 税后(税前-五险-个税)\r\n        })\r\n      } else {\r\n        const totalGrossSalary = this.getValueTotal('grossSalary', this.form.grossSalary)// 总计税前\r\n        const totalInsurancesPrice = this.getValueTotal('insurancesPrice', this.form.insurancesPrice)// 总计五险一金\r\n        const totalSpecialDeduction = this.getValueTotal('specialDeduction', this.form.specialDeduction)// 总计专项扣除\r\n        const totalThreshold = this.getValueTotal('threshold', this.form.threshold)// 总计起征点\r\n        const totalFreeAmount = totalInsurancesPrice + totalSpecialDeduction + totalThreshold// 免额(五险+专项+起征点)\r\n        const totalDifference = totalGrossSalary - totalFreeAmount// 差额\r\n        const totalTaxAmount = totalDifference > 0 ? totalDifference : 0// 缴纳金额\r\n        const totalTax = totalDifference > 0 ? this.calculationTax(totalTaxAmount) : 0// 个税\r\n        const currentTax = totalTax - this.getValueTotal('tax')// 减去今年内已交的税\r\n        this.form.dataList.push({\r\n          index: (length + 1) + '月份',\r\n          grossSalary: this.form.grossSalary,\r\n          insurancesPrice: this.form.insurancesPrice,\r\n          specialDeduction: this.form.specialDeduction,\r\n          threshold: this.form.threshold,\r\n          taxAmount: totalTaxAmount,\r\n          tax: currentTax > 0 ? currentTax : 0,\r\n          afterTax: this.form.grossSalary - this.form.insurancesPrice - currentTax\r\n        })\r\n      }\r\n    },\r\n    // 计算个税\r\n    calculationTax (num) {\r\n      switch (true) {\r\n        case num >= 36000 && num < 144000:\r\n          return num * 0.1 - 2520\r\n        case num >= 144000 && num < 300000:\r\n          return num * 0.2 - 16920\r\n        case num >= 300000 && num < 420000:\r\n          return num * 0.25 - 31920\r\n        case num >= 420000 && num < 660000:\r\n          return num * 0.3 - 52920\r\n        case num >= 660000 && num < 960000:\r\n          return num * 0.35 - 85920\r\n        case num >= 960000:\r\n          return num * 0.45 - 181920\r\n        default:\r\n          return num * 0.03\r\n      }\r\n    },\r\n    // 获取某一项的总数\r\n    getValueTotal (key, num = 0) {\r\n      let total = 0\r\n      this.form.dataList.forEach(data => {\r\n        total += data[key]\r\n      })\r\n      return total + num\r\n    },\r\n    // 重置\r\n    resetFormData (param) {\r\n      this.form.dataList = []\r\n    },\r\n    // 获取统计\r\n    getSummaries (param) {\r\n      const { columns, data } = param\r\n      const sums = []\r\n      columns.forEach((column, index) => {\r\n        if (index === 0) {\r\n          sums[index] = '总计'\r\n          return\r\n        }\r\n        const values = data.map(item => Number(item[column.property]))\r\n        if (!values.every(value => isNaN(value))) {\r\n          sums[index] = values.reduce((prev, curr) => {\r\n            const value = Number(curr)\r\n            if (!isNaN(value)) {\r\n              return prev + curr\r\n            } else {\r\n              return prev\r\n            }\r\n          }, 0)\r\n          sums[index] = (sums[index]).toFixed(2)\r\n          sums[index] += ' 元'\r\n        } else {\r\n          sums[index] = '--'\r\n        }\r\n      })\r\n\r\n      return sums\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-form',{ref:\"form\",attrs:{\"rules\":_vm.rules,\"model\":_vm.form,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"税前工资\",\"prop\":\"grossSalary\"}},[_c('el-input',{attrs:{\"maxlength\":\"12\"},model:{value:(_vm.form.grossSalary),callback:function ($$v) {_vm.$set(_vm.form, \"grossSalary\", _vm._n($$v))},expression:\"form.grossSalary\"}},[_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"五险一金\",\"prop\":\"insurancesPrice\"}},[_c('el-input',{attrs:{\"maxlength\":\"10\"},model:{value:(_vm.form.insurancesPrice),callback:function ($$v) {_vm.$set(_vm.form, \"insurancesPrice\", _vm._n($$v))},expression:\"form.insurancesPrice\"}},[_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"专项扣除\",\"prop\":\"specialDeduction\"}},[_c('el-input',{attrs:{\"maxlength\":\"10\"},model:{value:(_vm.form.specialDeduction),callback:function ($$v) {_vm.$set(_vm.form, \"specialDeduction\", _vm._n($$v))},expression:\"form.specialDeduction\"}},[_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"起征点\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.form.threshold),callback:function ($$v) {_vm.$set(_vm.form, \"threshold\", _vm._n($$v))},expression:\"form.threshold\"}},[_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.build}},[_vm._v(\"一键生成\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"立即创建\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.resetFormData}},[_vm._v(\"重置\")])],1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":16}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.form.dataList,\"border\":\"\",\"summary-method\":_vm.getSummaries,\"show-summary\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"index\",\"label\":\"月份\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"税前工资\",\"prop\":\"grossSalary\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.grossSalary.toFixed(2))+\"元\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"五险一金\",\"prop\":\"insurancesPrice\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.insurancesPrice.toFixed(2))+\"元\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"专项扣除\",\"prop\":\"specialDeduction\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.specialDeduction.toFixed(2))+\"元\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"最终个税\",\"prop\":\"tax\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.tax.toFixed(2))+\"元\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"税后工资\",\"prop\":\"afterTax\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.afterTax.toFixed(2))+\"元\\n      \")]}}])})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4b2ee8a6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Index.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4b2ee8a6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Index.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Index from '@/components/Index'\n\nVue.use(Router)\n\nexport default new Router({\n  base: '/income-tax-calculation-view/',\n  routes: [\n    {\n      path: '/',\n      name: 'Index',\n      component: Index\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport ElementUI from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\nVue.use(ElementUI)\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}