webpackJsonp([1],{"/wAz":function(t,e){},CLms:function(t,e){},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("+RKF"),i=r("bQIR"),a=r.n(i),s=(r("gFLX"),r("/wAz"),{render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]});var o=r("C7Lr")({name:"App"},s,!1,function(t){r("CLms")},null,null).exports,l=r("WBiy"),c={props:{winWidth:{type:Number,default:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}},data:function(){return{form:{grossSalary:2e3,insurancesPrice:0,specialDeduction:0,threshold:5e3,dataList:[]},rules:{grossSalary:[{required:!0,message:"必填项",trigger:"change"},{type:"number",message:"必须为数字值",trigger:"change"}],insurancesPrice:[{required:!0,message:"必填项",trigger:"change"},{type:"number",message:"必须为数字值",trigger:"change"}],specialDeduction:[{required:!0,message:"必填项",trigger:"change"},{type:"number",message:"必须为数字值",trigger:"change"}]}}},computed:{isMobileWidth:function(){return this.winWidth<=720},buttonSize:function(){return this.isMobileWidth?"mini":""}},watch:{"form.dataList":function(t){this.$emit("refreshData",t)}},methods:{build:function(){var t=this;this.$refs.form.validate(function(e){if(e){t.form.dataList=[];for(var r=1;r<=12;r++)t.perform()}})},onSubmit:function(){var t=this;this.$refs.form.validate(function(e){if(e){if(12===t.form.dataList.length)return void t.$message({message:"不能超过12条记录",type:"warning"});t.perform()}})},perform:function(){var t=this.form.dataList.length;if(0===t){var e=this.form.insurancesPrice+this.form.specialDeduction+this.form.threshold,r=this.form.grossSalary-e,n=r>0?r:0,i=r>0?this.calculationTax(n):0;this.form.dataList.push({index:"1月份",grossSalary:this.form.grossSalary,insurancesPrice:this.form.insurancesPrice,specialDeduction:this.form.specialDeduction,threshold:this.form.threshold,taxAmount:n,tax:i>0?i:0,afterTax:this.form.grossSalary-this.form.insurancesPrice-i})}else{var a=this.getValueTotal("grossSalary",this.form.grossSalary)-(this.getValueTotal("insurancesPrice",this.form.insurancesPrice)+this.getValueTotal("specialDeduction",this.form.specialDeduction)+this.getValueTotal("threshold",this.form.threshold)),s=a>0?a:0,o=(a>0?this.calculationTax(s):0)-this.getValueTotal("tax");this.form.dataList.push({index:t+1+"月份",grossSalary:this.form.grossSalary,insurancesPrice:this.form.insurancesPrice,specialDeduction:this.form.specialDeduction,threshold:this.form.threshold,taxAmount:s,tax:o>0?o:0,afterTax:this.form.grossSalary-this.form.insurancesPrice-o})}},calculationTax:function(t){switch(!0){case t>=36e3&&t<144e3:return.1*t-2520;case t>=144e3&&t<3e5:return.2*t-16920;case t>=3e5&&t<42e4:return.25*t-31920;case t>=42e4&&t<66e4:return.3*t-52920;case t>=66e4&&t<96e4:return.35*t-85920;case t>=96e4:return.45*t-181920;default:return.03*t}},getValueTotal:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;return this.form.dataList.forEach(function(e){r+=e[t]}),r+e},resetFormData:function(t){this.form.dataList=[]}}},u={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-form",{ref:"form",attrs:{rules:t.rules,model:t.form,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"税前工资",prop:"grossSalary"}},[r("el-input",{attrs:{maxlength:"12"},model:{value:t.form.grossSalary,callback:function(e){t.$set(t.form,"grossSalary",t._n(e))},expression:"form.grossSalary"}},[r("template",{slot:"append"},[t._v("元")])],2)],1),t._v(" "),r("el-form-item",{attrs:{label:"五险一金",prop:"insurancesPrice"}},[r("el-input",{attrs:{maxlength:"10"},model:{value:t.form.insurancesPrice,callback:function(e){t.$set(t.form,"insurancesPrice",t._n(e))},expression:"form.insurancesPrice"}},[r("template",{slot:"append"},[t._v("元")])],2)],1),t._v(" "),r("el-form-item",{attrs:{label:"专项扣除",prop:"specialDeduction"}},[r("el-input",{attrs:{maxlength:"10"},model:{value:t.form.specialDeduction,callback:function(e){t.$set(t.form,"specialDeduction",t._n(e))},expression:"form.specialDeduction"}},[r("template",{slot:"append"},[t._v("元")])],2)],1),t._v(" "),r("el-form-item",{attrs:{label:"起征点"}},[r("el-input",{attrs:{disabled:""},model:{value:t.form.threshold,callback:function(e){t.$set(t.form,"threshold",t._n(e))},expression:"form.threshold"}},[r("template",{slot:"append"},[t._v("元")])],2)],1),t._v(" "),r("el-form-item",[r("el-button",{attrs:{size:t.buttonSize,type:"primary"},on:{click:t.build}},[t.isMobileWidth?[r("i",{staticClass:"iconfont iconshengchengbaobiao"})]:[t._v("\n        生成一年\n      ")]],2),t._v(" "),r("el-button",{attrs:{size:t.buttonSize,type:"primary"},on:{click:t.onSubmit}},[t.isMobileWidth?[r("i",{staticClass:"iconfont iconchuangjian"})]:[t._v("\n        单月创建\n      ")]],2),t._v(" "),r("el-button",{attrs:{size:t.buttonSize},on:{click:t.resetFormData}},[t.isMobileWidth?[r("i",{staticClass:"iconfont iconzhongzhi"})]:[t._v("\n        重置\n      ")]],2)],1)],1)},staticRenderFns:[]},d=r("C7Lr")(c,u,!1,null,null,null).exports,m={props:{dataList:{type:Array,default:function(){return[]}}},methods:{getSummaries:function(t){var e=t.columns,r=t.data,n=[];return e.forEach(function(t,e){if(0!==e){var i=r.map(function(e){return Number(e[t.property])});i.every(function(t){return isNaN(t)})?n[e]="--":(n[e]=i.reduce(function(t,e){var r=Number(e);return isNaN(r)?t:t+e},0),n[e]=n[e].toFixed(2),n[e]+=" 元")}else n[e]="总计"}),n}}},f={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dataList,"summary-method":t.getSummaries,border:"","show-summary":""}},[r("el-table-column",{attrs:{prop:"index",label:"月份",fixed:"left"}}),t._v(" "),r("el-table-column",{attrs:{label:"税前工资",prop:"grossSalary"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(e.row.grossSalary.toFixed(2))+"元\n    ")]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"五险一金",prop:"insurancesPrice"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(e.row.insurancesPrice.toFixed(2))+"元\n    ")]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"专项扣除",prop:"specialDeduction"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(e.row.specialDeduction.toFixed(2))+"元\n    ")]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"最终个税",prop:"tax"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(e.row.tax.toFixed(2))+"元\n    ")]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"税后工资",prop:"afterTax",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(e.row.afterTax.toFixed(2))+"元\n    ")]}}])})],1)},staticRenderFns:[]},h={components:{CountTax:d,TaxDetails:r("C7Lr")(m,f,!1,null,null,null).exports},data:function(){return{dataList:[],winWidth:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}},mounted:function(){var t=this;window.addEventListener("resize",function(){t.winWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth})},methods:{updateDataList:function(t){this.dataList=t}}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"box"},[e("div",{staticClass:"box-count"},[e("count-tax",{attrs:{"win-width":this.winWidth},on:{refreshData:this.updateDataList}})],1),this._v(" "),e("div",{staticClass:"box-details"},[e("tax-details",{attrs:{"data-list":this.dataList}})],1)])},staticRenderFns:[]};var g=r("C7Lr")(h,p,!1,function(t){r("NwmZ")},"data-v-721328e5",null).exports;n.default.use(l.a);var v=new l.a({base:"/income-tax-calculation-view/",routes:[{path:"/",name:"Index",component:g}]});n.default.config.productionTip=!1,n.default.use(a.a),new n.default({el:"#app",router:v,components:{App:o},template:"<App/>"})},NwmZ:function(t,e){},gFLX:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.49b30ba1de30ca568f09.js.map